<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/shadow.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/av-icons.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">

<dom-module id="rhythm-display">
  <template>
    <style>
      :host {
        display: block;

        @apply(--layout-vertical);
      }

      #heading {
        @apply(--paper-font-subhead);
        @apply(--paper-font-common-nowrap);
      }
      #view {
        @apply(--layout-horizontal);
        @apply(--layout-center-justified);
        @apply(--layout-wrap);

      }
      #ascii {
        @apply(--paper-font-code1);
      }

      iron-icon {
        height: 24px;
        min-height: 24px;
        width: 24px;
        min-width: 24px;
        padding: 4px;
      }


    </style>

    <span id="heading">[[heading]]</span>
      <div id="view">
    <template is="dom-repeat" items="{{rhythm}}">
        <iron-icon icon="[[_icon(item)]]"> </iron-icon>
    </template>
      </div>
  </template>

  <script>
    Polymer({

      is: 'rhythm-display',

      properties: {
        rhythm: {
          type: Array,
          value: []
        },
        heading: {
          type: String,
            value: ''
        }
      },


      _toString: function (hit) {
        if (hit) {
          return 'x';
        }
        return '_'
      },
      _ascii: function (rhythm) {
        return rhythm.map(this._toString).join(' ');
      },
      _icon: function(hit) {
        if (hit) {
          return 'av:fiber-manual-record';
        }
        return 'icons:more-horiz';
      }

    });
  </script>
</dom-module>
